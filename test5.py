import os
from datetime import datetime, timedelta

import matplotlib.pyplot as plt
import pandas as pd

a = [[32400, 36920], [36920, 37506], [37506, 37570], [37570, 37589], [37589, 37690], [37690, 37770], [37770, 37931], [37931, 38189], [38189, 38301], [38301, 38504], [38504, 38572], [38572, 38634], [38634, 38694], [38694, 38808], [38808, 38892], [38892, 38946], [38946, 39036], [39036, 39083], [39083, 39121], [39121, 39160], [39160, 39210], [39210, 39252], [39252, 39297], [39297, 39476], [39476, 39584], [39584, 39701], [39701, 39836], [39836, 39944], [39944, 40310], [40310, 40502], [40502, 40611], [40611, 40706], [40706, 40901], [40901, 41115], [41115, 41160], [41160, 41203], [41203, 41358], [41358, 41496], [41496, 41570], [41570, 41729], [41729, 41854], [41854, 41978], [41978, 42064], [42064, 42132], [42132, 42192], [42192, 42250], [42250, 42335], [42335, 42454], [42454, 42635], [42635, 42683], [42683, 42755], [42755, 42793], [42793, 42916], [42916, 43065], [43065, 43134], [43134, 43340], [43340, 43398], [43398, 43469], [43469, 43636], [43636, 43681], [43681, 43747], [43747, 43762], [43762, 43870], [43870, 43912], [43912, 43972], [43972, 44057], [44057, 44235], [44235, 44267], [44267, 44393], [44393, 44406], [44406, 47632], [47632, 47758], [47758, 47832], [47832, 47946], [47946, 48034], [48034, 48108], [48108, 
48185], [48185, 48222], [48222, 48334], [48334, 48454], [48454, 48616], [48616, 48704], [48704, 48733], [48733, 48831], [48831, 48902], [48902, 49075], [49075, 49192], [49192, 49224], [49224, 49240], [49240, 49399], [49399, 49477], [49477, 49495], [49495, 49563], [49563, 49683], [49683, 49761], [49761, 49864], [49864, 49946], [49946, 49966], [49966, 50203], [50203, 52334], [52334, 52418], [52418, 52528], [52528, 52704], [52704, 52913], [52913, 53293], [53293, 53695], [53695, 53770], [53770, 53851], [53851, 53979], [53979, 54038], [54038, 54075], [54075, 54195], [54195, 54226], [54226, 54396], [54396, 54455], [54455, 54642], [54642, 55107], [55107, 55311], [55311, 55500], [55500, 55552], [55552, 55652], [55652, 55751], [55751, 55820], [55820, 56066], [56066, 56135], [56135, 56218], [56218, 57007], [57007, 57095], [57095, 57176], [57176, 57401], [57401, 57455], [57455, 57552], [57552, 57794], [57794, 57812], [57812, 57885], [57885, 58056], [58056, 58080], [58080, 58394], [58394, 61200]]


def numbers():
    a0 = []
    for i in a:
        if i[2] < -10:
            res1 = timedelta(seconds=i[0])
            res2 = timedelta(seconds=i[1])
            a0.append([i, f"{res1}-{res2}"])
        a0.append(i[2])
    return a0


def save_schedule(time_list):
    plt.figure()
    plt.xlabel('колличество')
    plt.ylabel('интенсивность')
    time_for_graph = []
    for i in time_list:
        time_for_graph.append((i[0]-i[1])//60)
    plt.plot(time_for_graph)
    for i, v in enumerate(time_list):
        if (v[0]-v[1])//60 < -20:
            plt.text(i, (v[0]-v[1])//60, f"{timedelta(seconds=v[0])}-{timedelta(seconds=v[1])}").set_rotation(88)
            print((v[0]-v[1])//60)
    plt.grid()
    plt.show()


if __name__ == '__main__':
    save_schedule(a)
    # print(numbers())
    # print(*str(timedelta(seconds=61200)).split(":")[:2])