import os
from datetime import datetime, timedelta

import matplotlib.pyplot as plt
import pandas as pd

a = [[32400, 36920, -76], [36920, 37506, -10], [37506, 37570, -2], [37570, 37589, -1], [37589, 37690, -2], [37690, 37770, -2], [37770, 37931, -3], [37931, 38189, -5], [38189, 38301, -2], [38301, 38504, -4], [38504, 38572, -2], [38572, 38634, -2], [38634, 38694, -1], [38694, 38808, -2], [38808, 38892, -2], [38892, 38946, -1], [38946, 39036, -2], [39036, 39083, -1], [39083, 39121, -1], [39121, 39160, -1], [39160, 39210, -1], [39210, 39252, -1], [39252, 39297, -1], [39297, 39476, -3], [39476, 39584, -2], [39584, 39701, -2], [39701, 39836, -3], [39836, 39944, -2], [39944, 40310, -7], [40310, 40502, -4], [40502, 40611, -2], [40611, 40706, -2], [40706, 40901, -4], [40901, 41115, -4], [41115, 41160, -1], [41160, 41203, -1], [41203, 41358, -3], [41358, 41496, -3], [41496, 41570, -2], [41570, 41729, -3], [41729, 41854, -3], [41854, 41978, -3], [41978, 42064, -2], [42064, 42132, -2], [42132, 42192, -1], [42192, 42250, -1], [42250, 42335, -2], [42335, 42454, -2], [42454, 42635, -4], [42635, 42683, -1], [42683, 42755, -2], [42755, 42793, -1], [42793, 42916, -3], [42916, 43065, -3], [43065, 43134, -2], [43134, 43340, -4], [43340, 43398, -1], [43398, 43469, -2], [43469, 43636, -3], [43636, 43681, -1], [43681, 43747, -2], [43747, 43762, -1], [43762, 43870, -2], [43870, 43912, -1], [43912, 43972, -1], [43972, 44057, -2], [44057, 44235, -3], [44235, 44267, -1], [44267, 44393, -3], [44393, 44406, -1], [44406, 47632, -54], [47632, 47758, -3], [47758, 47832, -2], [47832, 47946, -2], [47946, 48034, -2], [48034, 48108, -2], [48108, 48185, -2], [48185, 48222, -1], [48222, 48334, -2], [48334, 48454, -2], [48454, 48616, -3], [48616, 48704, -2], [48704, 48733, -1], [48733, 48831, -2], [48831, 48902, -2], [48902, 49075, -3], [49075, 49192, -2], [49192, 49224, -1], [49224, 49240, -1], [49240, 49399, -3], [49399, 49477, -2], [49477, 49495, -1], [49495, 49563, -2], [49563, 49683, -2], [49683, 49761, -2], [49761, 49864, -2], [49864, 49946, -2], [49946, 49966, -1], [49966, 50203, -4], [50203, 52334, -36], [52334, 52418, -2], [52418, 52528, -2], [52528, 52704, -3], [52704, 52913, -4], [52913, 53293, -7], [53293, 53695, -7], [53695, 53770, -2], [53770, 53851, -2], [53851, 53979, -3], [53979, 54038, -1], [54038, 54075, -1], [54075, 54195, -2], [54195, 54226, -1], [54226, 54396, -3], [54396, 54455, -1], [54455, 54642, -4], [54642, 55107, -8], [55107, 55311, -4], [55311, 55500, -4], [55500, 55552, -1], [55552, 55652, -2], [55652, 55751, -2], [55751, 55820, -2], [55820, 56066, -5], [56066, 56135, -2], [56135, 56218, -2], [56218, 57007, -14], [57007, 57095, -2], [57095, 57176, -2], [57176, 57401, -4], [57401, 57455, -1], [57455, 57552, -2], [57552, 57794, -5], [57794, 57812, -1], [57812, 57885, -2], [57885, 58056, -3], [58056, 58080, -1], [58080, 58394, -6], [58394, 61200, -47]]


def numbers():
    a0 = []
    for i in a:
        if i[2] < -10:
            res1 = timedelta(seconds=i[0])
            res2 = timedelta(seconds=i[1])
            a0.append(f"{res1}-{res2}")
    return a0

def save_schedule(time_list):
    plt.figure()
    plt.xlabel('колличество')
    plt.ylabel('интенсивность')
    plt.plot(time_list)
    for i, v in enumerate(time_list):
        plt.text(i, v, v)
    plt.grid()
    plt.show()


if __name__ == '__main__':
    save_schedule(numbers())
    # print(numbers())
    # print(timedelta(seconds=61200))